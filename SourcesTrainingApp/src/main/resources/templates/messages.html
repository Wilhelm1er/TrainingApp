<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity">
<head>
<th:block th:insert="layout/default.html :: header"></th:block>
</head>
<body>
	<nav th:insert="layout/default.html :: navbar"></nav>
	<br>
	<br>
	<br>
	
		<h1 th:text=#{discussion.liste}+${subject}></h1>
		<br>
		<div class="erreur" th:if="${error}" th:text="${error}"></div>
		<br>

		<div class="container">
			<div class="row justify-content-start">
				<table border="1">
					<tr>
						<th class="col-sm-4" th:text="#{message.date}"></th>
						<th class="col-sm-2" th:text="#{message.sender}"></th>
						<th class="col-sm-2" th:text="#{message.recipient}"></th>
						<th class="col-sm-4" th:text="#{message.texte}"></th>
					</tr>
					<tr th:each="message : ${messageDTOs}">
						<td class="col-sm-4" th:text="${message.date}"></td>
						<td class="col-sm-2" th:text="${message.senderDTO.username}"></td>
						<th class="col-sm-2" th:text="${message.recipientDTO.username}"></th>
						<th class="col-sm-4" th:text="${message.texte}"></th>

					</tr>
				</table>
			</div>
		</div>
		
		<a th:href="@{'/new-message/'+${discussionId}}"
					>Nouveau message</a>

	<br>
	<br>
	<br>
	<br>

	<th:block th:insert="layout/default.html :: footer"></th:block>
	<th:block th:insert="layout/default.html :: scripts"></th:block>
</body>
</html>
